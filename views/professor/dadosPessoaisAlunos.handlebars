<h2>Dados Pessoais dos Alunos</h2>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Data de Nascimento</th>
      <th>Endereço</th>
      <th>Cidade/UF</th>
      <th>Telefone</th>
      <th>RG</th>
      <th>CPF</th>
    </tr>
  </thead>
  <tbody>
    {{#each alunos}}
    <tr>
      <!-- Formulário para atualizar dados -->
      <form action="/professor/atualizar-dados-aluno/{{this.id}}" method="POST">
        <td><input type="text" name="nome" value="{{this.nome}}" class="form-control" required></td>
        <td><input type="date" name="data_nascimento" value="{{this.data_nascimento}}" class="form-control" required></td>
        <td><input type="text" name="endereco" value="{{this.endereco}}, {{this.complemento}}, {{this.cep}}" class="form-control"></td>
        <td><input type="text" name="cidade_uf" value="{{this.cidade}} - {{this.uf}}" class="form-control"></td>
        <td><input type="text" name="telefone" value="{{this.telefone}}" class="form-control"></td>
        <td><input type="text" name="rg" value="{{this.rg}}" class="form-control"></td>
        <td><input type="text" name="cpf" value="{{this.cpf}}" class="form-control"></td>
        <td>
          <button type="submit" class="btn btn-success btn-sm">Salvar</button>
          <a href="/professor/ver-dados-aluno/{{this.id}}" class="btn btn-info btn-sm">Ver Dados</a>
        </td>
      </form>

      <!-- Formulário separado para upload do contrato -->
      <form action="/professor/upload-contrato/{{this.id}}" method="POST" enctype="multipart/form-data">
        <td colspan="9" style="padding-top: 10px;">
          {{#if this.contrato_pdf}}
            <strong>Contrato:</strong>
            <a href="/uploads/contratos/{{this.contrato_pdf}}" target="_blank">Ver Contrato</a>
          {{else}}
            <div class="d-flex align-items-center">
              <input type="file" name="contrato" accept="application/pdf" class="form-control-file" required>
              <button type="submit" class="btn btn-primary btn-sm ml-2">Enviar Contrato</button>
            </div>
          {{/if}}
        </td>
      </form>
    </tr>
    {{/each}}
  </tbody>
</table>