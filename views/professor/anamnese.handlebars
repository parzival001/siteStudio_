<div class="container py-5 text-white">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10">

      <h2 class="text-center mb-4">Anamnese de {{aluno.nome}}</h2>

      {{#if jaTemAnamnese}}
      <div class="mb-3 text-center">
        <a href="/professor/aluno/{{aluno.id}}/anamnese/{{anamneseId}}" class="btn btn-outline-custom">Ver Anamnese</a>
      </div>
      {{/if}}

      <div class="card p-4" style="background-color: #B395C0;">
        <form method="POST" action="/professor/alunos/{{aluno.id}}/anamnese">

          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label text-white">Peso:</label>
              <input type="text" name="peso" value="{{anamnese.peso}}" class="form-control">
            </div>
            <div class="col-md-4">
              <label class="form-label text-white">Estatura:</label>
              <input type="text" name="estatura" value="{{anamnese.estatura}}" class="form-control">
            </div>
            <div class="col-md-4">
              <label class="form-label text-white">Contato de Emergência (Nome):</label>
              <input type="text" name="contato_emergencia_nome" value="{{anamnese.contato_emergencia_nome}}" class="form-control mb-2">
              <label class="form-label text-white">Telefone:</label>
              <input type="text" name="contato_emergencia_telefone" value="{{anamnese.contato_emergencia_telefone}}" class="form-control">
            </div>
          </div>

          <hr class="border-light">

          <div class="row mb-3">
            {{!-- Campos booleanos (Sim/Não) --}}
            {{#each (array 
              "tempo_sentado" "atividade_fisica" "fumante" "alcool" "alimentacao" "gestante" 
              "tratamento_medico" "lesoes" "marcapasso" "metais" "problema_cervical" 
              "procedimento_cirurgico" "alergia_medicamentosa" "hipertensao" "hipotensao" 
              "diabetes" "epilepsia" "labirintite") as |campo|}}
              <div class="col-md-3 mb-3">
                <label class="form-label text-white">{{capitalize (replace campo "_" " ")}}?</label>
                <select name="{{campo}}" class="form-select">
                  <option value="Sim" {{#ifCond (lookup ../anamnese campo) '==' 'Sim'}}selected{{/ifCond}}>Sim</option>
                  <option value="Não" {{#ifCond (lookup ../anamnese campo) '==' 'Não'}}selected{{/ifCond}}>Não</option>
                </select>
              </div>
            {{/each}}
          </div>

          <hr class="border-light">

          <div class="mb-3">
            <label class="form-label text-white">Observações:</label>
            <textarea name="observacoes" class="form-control">{{anamnese.observacoes}}</textarea>
          </div>

          <div class="form-check mb-4">
            <input type="checkbox" name="aceite_termo" class="form-check-input" id="aceite_termo" {{#if anamnese.aceite_termo}}checked{{/if}}>
            <label class="form-check-label text-white" for="aceite_termo">Termo de responsabilidade: Aceito</label>
          </div>

          <div class="d-flex gap-3">
            <button type="submit" class="btn btn-outline-custom flex-fill">Salvar Anamnese</button>
            <a href="javascript:history.back()" class="btn btn-outline-custom flex-fill">Voltar</a>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>